<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>3D CNC Kesim</title>
<style>
    body {
        margin: 0;
        overflow: hidden;
        background: #111;
    }
</style>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>

<script>
// ----- SAHNE -----
const scene = new THREE.Scene();
scene.background = new THREE.Color(0x111111);

// ----- KAMERA -----
const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(2, 2, 4);

// ----- RENDERER -----
const renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// ----- IŞIKLAR -----
const light = new THREE.PointLight(0xffffff, 2);
light.position.set(5, 5, 5);
scene.add(light);

const ambient = new THREE.AmbientLight(0xffffff, 0.4);
scene.add(ambient);

// ----- 3D PARÇA (KESİLECEK BLOK) -----
const geometry = new THREE.BoxGeometry(3, 1, 2);
const material = new THREE.MeshStandardMaterial({
    color: 0x666666,
    metalness: 0.8,
    roughness: 0.3
});
const block = new THREE.Mesh(geometry, material);
block.position.y = -0.3;
scene.add(block);

// ----- CNC KAFASI (KARE) -----
const cncGeo = new THREE.BoxGeometry(0.5, 0.5, 0.5);
const cncMat = new THREE.MeshStandardMaterial({
    color: 0x999999,
    metalness: 1,
    roughness: 0.2
});
const cnc = new THREE.Mesh(cncGeo, cncMat);
cnc.position.set(0, 2, 0);
scene.add(cnc);

// ----- KESME OYUKU -----
const cutGeo = new THREE.BoxGeometry(0.6, 0.2, 2.1);
const cutMat = new THREE.MeshStandardMaterial({
    color: 0x333333,
    metalness: 0.4,
    roughness: 0.8
});
const cut = new THREE.Mesh(cutGeo, cutMat);
cut.position.set(-1.5, -0.3, 0);
cut.scale.x = 0; // Başta görünmesin
scene.add(cut);

// ----- ANİMASYON -----
let frame = 0;

function animate() {
    requestAnimationFrame(animate);

    frame++;

    // CNC kafası aşağı iner
    if (frame < 120) {
        cnc.position.y -= 0.015;
    }

    // X ekseninde kesme hareketi
    if (frame >= 120 && frame < 360) {
        cnc.position.x += 0.02;
        cut.scale.x = (frame - 120) / 240; // Oyuk genişleyerek oluşuyor
    }

    // CNC yukarı çıkar
    if (frame >= 360 && frame < 450) {
        cnc.position.y += 0.015;
    }

    renderer.render(scene, camera);
}
animate();

// ----- EKRAN BOYUTU -----
window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
